<div class="container">
<div class="row">
	<h3 style="text-align: center;">Sales Products</h3>
    <div class="span12">
        <div class="well">
            <div id="myCarousel" class="carousel fdi-Carousel slide">
             <!-- Carousel items -->
                <div class="carousel fdi-Carousel slide" id="eventCarousel" data-interval="0">
                    <div class="carousel-inner onebyone-carosel">
                        <div class="item active">
                            <div class="">
                                <% @products.each do |p| %>
									<div class="col-md-3 col-xs-6 col-sm-4">
										<div class="img"> 
											<%= link_to image_tag(p.img.url(:medium)), p %> 
											<br><br>
											<%= link_to  simple_format(p.name + "\n\n $" + p.price.to_s), p, class: 'imgText'%> 
										</div>
									</div>
								<% end %>
                            </div>
                        </div>
                    </div>
                    <a class="left carousel-control" href="#eventCarousel" data-slide="prev"></a>
                    <a class="right carousel-control" href="#eventCarousel" data-slide="next"></a>
                </div>
                <!--/carousel-inner-->
            </div><!--/myCarousel-->
        </div><!--/well-->
    </div>
</div>
</div>


<div class="row">
	<h3 style="text-align:center;">Featured Products</h3><br><br>
</div>
<div class="row">
	<% @products.each do |p| %>
		<div class="col-md-3 col-xs-6 col-sm-4">
			<div class="img"> 
				<%= link_to image_tag(p.img.url(:medium)), p %> 
				<br><br>
				<%= link_to  simple_format(p.name + "\n\n $" + p.price.to_s), p, class: 'imgText'%> 
			</div>
		</div>
	<% end %>
</div>


<script>
$(document).ready(function () {
    $('#myCarousel').carousel({
        interval: 10000
    })
    $('.fdi-Carousel .item').each(function () {
        var next = $(this).next();
        if (!next.length) {
            next = $(this).siblings(':first');
        }
        next.children(':first-child').clone().appendTo($(this));

        if (next.next().length > 0) {
            next.next().children(':first-child').clone().appendTo($(this));
        }
        else {
            $(this).siblings(':first').children(':first-child').clone().appendTo($(this));
        }
    });
});

</script>